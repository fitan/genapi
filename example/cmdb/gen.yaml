baseConf:
  WrapResult:
    ImportPath: |
      "cmdb/public"
    WrapFunc: "public.GinResult"
    WrapResultType: "public.Result"
pluginV1:
  -
    MarkName: "casbin"
    Match:
      -
        Type: InBindInterface
        Name:
    BindBefor:
      InterfaceName: "CasbinKeyser"
      ImportPath: |
        "cmdb/public"
       Template: |
        data,err = public.CheckKeysCasbin(c,"%s",in.GetCasbinKeys())
        if err != nil {return data, err}
    BindAfter:
      ImportPath: |
    ExecFunc:
      ImportPath: |
        "cmdb/pubic"
      Template: |
        return



plugin:
  -
    name: "casbin"
    interfaceName:
      -
        name: "CasbinKeyser"
        bindBefor:
          importPath: ""
          template: ""
        bindAfter:
          importPath: '"cmdb/public"'
          template: |
            data,err = public.CheckKeysCasbin(c,"{{$.}}",in.GetCasbinKeys())
            if err != nil {return data, err}
      -
        name: "CasbinListKeyser"
        bindBefor:
          importPath: ""
          template: ""
        bindAfter:
          importPath: '"cmdb/public"'
          template: |
            data,err = public.CheckListKeysCasbin(c,"%s",in.GetCasbinKeys())
            if err != nil {return data, err}

gen:
  ent:
    -
      name: "ent"
      src: "./ent/schema"
      dest: "./gen/entrest"
  api:
    -
      name: "logicapi"
      src: "./logic"
      dest: "./gen/handler/logic"
    -
      name: "entapi"
      src: "./gen/entrest"
      dest: "./gen/handler/ent"